
\documentclass[a4paper,10pt]{beamer}
\usepackage[T1,plmath]{polski}
\usepackage[cp1250]{inputenc}
\usepackage{amssymb}
\usepackage{indentfirst}
\usepackage{graphicx}

\usefonttheme[onlymath]{serif}


\usepackage{ulem} % kolorowe podkreœlenia
\usepackage{xcolor} % kolorowe podkreœlenia

\usepackage{diagbox}
\usepackage{tasks}




\newcommand{\outdeg}{{\,\rm{outdeg}\,}}
\newcommand{\indeg}{{\,\rm{indeg}\,}}

%\definecolor{green1}{html}{22B14C}

\newcommand{\ouline}[1]{{\color{orange}\uline{{\color{black}#1}}}} % pomarañczowe podkreœlenie
\newcommand{\yuline}[1]{{\color{yellow}\uline{{\color{black}#1}}}} % ¿ó³te podkreœlenie
\newcommand{\buline}[1]{{\color{blue}\uline{{\color{black}#1}}}} % niebieskie podkreœlenie
\newcommand{\guline}[1]{{\color[RGB]{34,177,76}\uline{{\color{black}#1}}}} % zielone podkreœlenie


\usetheme{Boadilla}
\usecolortheme{crane}
%\usecolortheme[rgb={1,0.5,0}]{structure}

\title{\bf Digrafy}
%\subtitle{Matematyka, Kierunek: Architektura}
\author[B. Pawlik]{\bf dr in¿. Bart³omiej Pawlik}
%\institute{}



%\setbeamercovered{transparent} % przezroczyste warstwy





\begin{document}

\begin{frame}
\titlepage
\end{frame}

\begin{frame}
	\begin{block}{Definicja}
		{\bf Digrafem} ({\bf grafem skierowanym}) $D$ nazywamy parê zbiorów $\big(V(D),E(D)\big)$, gdzie $V(D)$ to {\bf zbiór wierzcho³ków}, a $E(D)\subset \big(V(D)\big)^2$ to {\bf zbiór ³uków}.
	\end{block}

	Wiele definicji dotycz¹cych grafów (np. rz¹d, rozmiar, podgraf indukowany, izomorfizm) przenosi siê równie¿ na digrafy.
	
	Zauwa¿my, ¿e z powy¿szej definicji wynika, ¿e ka¿dy ³uk to uporz¹dkowana para wierzcho³ków (zbiór ³uków to \underline{podzbiór} kwadratu kartezjañskiego zbioru wierzcho³ków).

\begin{block}{Definicja}
Niech $(x,y)\in E(D)$.
\begin{itemize}
\item	Parê $(x,y)$ nazywamy {\bf ³ukiem} ({\bf krawêdzi¹ skierowan¹}) od $x$ do $y$.
\item Wierzcho³ek $y$ nazywamy {\bf s¹siednim} do $x$.
\item Wierzcho³ek $x$ nazywamy {\bf pocz¹tkiem ³uku}, a $y$ - {\bf koñcem ³uku}.
\item KrawêdŸ $(x,x)$ nazywamy {\bf pêtl¹}.
\end{itemize}
\end{block}
\end{frame}



	
\begin{frame}
	
	\begin{exampleblock}{Przyk³ad 1}
		\begin{minipage}{3.5cm}
		\includegraphics[scale=0.2]{graf1.png}
		\end{minipage}
		\begin{minipage}{8cm}
			Rysunek przedstawia reprezentacjê graficzn¹ digrafu $D$ takiego, ¿e
			\begin{align*}
				V(D)&=\{1,2,3,4,5,6\}\\
				E(D)&=\{(1,4),\,(3,5),\,(4,2),\,(4,5)\}
			\end{align*}
		Rz¹d $D$ wynosi $6$, natomiast rozmiar to $4$.
		\end{minipage}
	\end{exampleblock}
	
\end{frame}



\begin{frame}
\begin{block}{Definicja}
		\begin{itemize}
			\item {\bf Stopniem wyjœciowym $\outdeg v$ wierzcho³ka $v$} w digrafie $D$ nazywamy liczbê krawêdzi, których pocz¹tkiem jest $v$.
			\item {\bf Stopniem wejœciowym $\indeg v$ wierzcho³ka $v$} w digrafie $D$ nazywamy liczbê krawêdzi, których koñcem jest $v$.
		\end{itemize}
\end{block}

\begin{exampleblock}{Przyk³ad 2}
Stopnie wierzcho³ków digrafu z przyk³adu 1 to: %mo¿e lepiej odeg lub og i ideg lub ig
$$\outdeg(1)=1,\ \ \ \outdeg(2)=0,\ \ \ \outdeg(3)=1,$$ $$\indeg(1)=0,\ \ \ \ \ \indeg(2)=1,\ \ \ \ \ \indeg(3)=0,$$

$$\outdeg(4)=2,\ \ \ \outdeg(5)=0,\ \ \ \outdeg(6)=0,$$ $$\indeg(4)=1,\ \ \ \ \ \indeg(5)=2,\ \ \ \ \ \indeg(6)=0.$$
\end{exampleblock}
\end{frame}


\begin{frame}

\begin{block}{Podstawowe twierdzenie teorii digrafów}
Dla ka¿dego digrafu $D$ zachodzi $$\sum\limits_{v\in V(D)}\outdeg v=\sum\limits_{v\in V(D)}\indeg v=|E(D)|.$$
\end{block}

\begin{proof}
 Podczas dodawania stopni wyjœciowych ka¿dy ³uk jest liczony tylko raz --- podobnie jak podczas dodawania stopni wejœciowych.
\end{proof}

\medskip

Powy¿sze twierdzenie jest digrafowym odpowiednikiem {\bf lematu o uœciskach d³oni}.

\end{frame}



\begin{frame}
	\begin{block}{Definicja}
		{\bf Macierz¹ s¹siedztwa} (multi)digrafu $D$ to macierz $A_D=[s_{ij}]$, w której $a_{ij}$ okreœla liczbê ³uków od $i$-tego do $j$-tego wierzcho³ka.  
	\end{block}

\begin{exampleblock}{Przyk³ad 3}
Macierz¹ s¹siedztwa digrafu przedstawionego w przyk³adzie 1 jest
$$\left[\begin{array}{cccccc}0&0&0&1&0&0\\0&0&0&0&0&0\\0&0&0&0&1&0\\0&1&0&0&1&0\\0&0&0&0&0&0\\0&0&0&0&0&0\end{array}\right].$$
\end{exampleblock}
\end{frame}


\begin{frame}
	
		\begin{block}{Definicja}
		{\bf Macierz incydencji digrafu} $D$ to macierz $B_D=[b_{ij}]$, w której
		$$B_{ij}=\left\{\begin{array}{ll}1,&\mbox{ gdy wierzcho³ek }v_i\mbox{ jest pocz¹tkiem ³uku }e_j\\-1,&\mbox{ gdy wierzcho³ek }v_i\mbox{ jest koñcem ³uku }e_j\\0,&\mbox{ gdy wierzcho³ek }v_i\mbox{ nie jest incydentny z ³ukiem }e_j\end{array}\right..$$
	\end{block}
	
	\begin{block}{Wniosek}
	\begin{itemize}
	\item Suma elementów w $i$-tym wierszu macierzy incydencji digrafu $D$ wynosi $\outdeg v_i+\indeg v_i$.
	\item Suma elementów w $j$-tej kolumnie macierzy incydencji digrafu $D$ wynosi $0$.
	\end{itemize}
	\end{block}

\end{frame}


\begin{frame}
\begin{exampleblock}{Przyk³ad 4}
Macierz¹ incydencji digrafu przedstawionego w przyk³adzie 1 jest
$$\left[\begin{array}{cccc}
1&0&0&0\\
0&0&-1&0\\
0&1&0&0\\
-1&0&1&1\\
0&-1&0&-1\\
0&0&0&0\\
\end{array}\right].$$
\end{exampleblock}
\end{frame}


\begin{frame}
\begin{block}{Definicja}
Niech $D=(V(D),E(D))$ bêdzie digrafem.
\begin{itemize}
\item $D$ jest {\bf symetryczny}, gdy dla ka¿dej pary wierzcho³ków $u,v\in V(D)$ z~warunku $(u,v)\in E(D)$ wynika, ¿e równie¿ $(v,u)\in E(D)$.
\item $D$ jest {\bf grafem zorientowanym}, gdy dla ka¿dej pary wierzcho³ków $u,v\in V(D)$ z warunku $(u,v)\in E(D)$ wynika, ¿e $(v,u)\not\in E(D)$.
\end{itemize}
\end{block}

\medskip

\begin{exampleblock}{Przyk³ad 5}
Zauwa¿my, ¿e digraf z przyk³adu 1 jest grafem zorientowanym.

\medskip

Co najmniej ile ³uków nale¿y do tego digrafu do³¹czyæ (bez zwiêkszania jego rzêdu), aby mieæ pewnoœæ ¿e nowo otrzymany digraf nie jest grafem zorientowanym?

\medskip

$12$.
\end{exampleblock}

\end{frame}




\begin{frame}

\begin{block}{Definicja}
{\bf Grafem pierwotnym} digrafu $D$ nazywamy graf otrzymany przez zast¹pienie ka¿dego ³uku $(u,v)$ lub symetrycznej pary ³uków $(u,v)$ i $(v,u)$ przez krawêdŸ $\{u,v\}$.
\end{block}


\begin{exampleblock}{Przyk³ad 6}
Poni¿sze digrafy $D_1$ i $D_2$ maj¹ taki sam graf pierwotny ($G$).

\begin{center}
\includegraphics[scale=0.2]{pierw.png}
\end{center}

\end{exampleblock}

\end{frame}







\begin{frame}	
	\begin{block}{Definicja}
		Niech $D=\big(V(D),E(D)\big)$ bêdzie digrafem.
\begin{itemize}
\item {\bf Drog¹} nazywamy ci¹g wierzcho³ków $(v_1,v_2,\ldots,v_n)$ taki, ¿e $(v_i,v_{i+1})\in E(D)$ dla ka¿dego $1\leq i\leq n-1$.
\item {\bf Drog¹ nieskierowan¹} nazywamy ci¹g wierzcho³ków $(v_1,v_2,\ldots,v_n)$ taki, ¿e $(v_i,v_{i+1})\in E(D)$ lub $(v_{i+1},v_i)\in E(D)$ dla ka¿dego $1\leq i\leq n-1$.
\item {\bf Œcie¿k¹} nazywamy drogê w której ka¿dy wierzcho³ek wystêpuje co najwy¿ej jeden raz.
\item {\bf Cyklem} nazywamy drogê w której $v_1=v_n$ oraz wszystkie pozosta³e wierzcho³ki wystêpuj¹ co najwy¿ej jeden raz.
\item {\bf Cyklem niew³aœciwym} nazywamy drogê w której $v_1=v_n$.
\item Digraf jest {\bf acykliczny}, je¿eli nie posiada cykli.
\end{itemize}
	\end{block}

\medskip

Podobnie jak droga nieskierowana jest pierwotnym odpowiednikiem drogi w~digrafie, tak i {\bf œcie¿ka nieskierowana}, {\bf cykl nieskierowany} i {\bf cykl niew³aœciwy nieskierowany} to pierwotne odpowiedniki œcie¿ki, cyklu i cyklu niew³aœciwego.

\end{frame}


\begin{frame}
	\begin{block}{Definicja}
	\begin{itemize}
	\item	Digraf $D$ jest {\bf spójny}, gdy dla ka¿dej pary jego wierzcho³ków istnieje œcie¿ka nieskierowana ³¹cz¹ca te wierzcho³ki.
	\item Digraf $D$ jest {\bf silnie spójny}, gdy dla ka¿dej pary jego wierzcho³ków $u$ i $v$ istnieje œcie¿ka o pocz¹tku w $u$ i koñcu w $v$ oraz istnieje œcie¿ka o pocz¹tku w~$v$ i koñcu w $u$.
	\end{itemize}
	\end{block}


\begin{exampleblock}{Przyk³ad 7}
Digraf przedstawiony w przyk³adzie 1 nie jest spójny --- nie istnieje œcie¿ka ³¹cz¹ca wierzcho³ek $6$ z pozosta³ymi. Rozwa¿my poni¿sze digrafy:

\begin{center}\includegraphics[scale=0.2]{sppr.png}\end{center}

Digraf $D_1$ jest spójny, ale nie jest silnie spójny. Digraf $D_2$ jest silnie spójny.
\end{exampleblock}
\end{frame}



\begin{frame}

\begin{block}{Definicja}
Je¿eli $G$ jest grafem pierwotnym grafu zorientowanego $D$, to $D$ nazywamy {\bf orientacj¹} grafu $G$.
\end{block}

\begin{exampleblock}{Przyk³ad 8}
Graf ($G$) i jedna z jego orientacji ($D$).

\begin{center}\includegraphics[scale=0.2]{orien.png}\end{center}
\end{exampleblock}

\end{frame}


\begin{frame}

\begin{block}{Definicja}
\begin{itemize}
\item Dowoln¹ orientacjê grafu pe³nego nazywamy {\bf turniejem}.
\item Digraf $D$ jest {\bf $r$-regularny}, je¿eli równania $$\outdeg v=\indeg v=r$$ zachodz¹ dla ka¿dego $v\in V(D)$.
\end{itemize}
\end{block}

\begin{exampleblock}{Przyk³ad 9}
Grafy $D_1$ i $D_2$ z przyk³adu 7 s¹ jedynymi turniejami rzêdu $3$ (a zarazem jedynymi orientacjami grafu $K_3$). Ponadto graf $D_2$ jest grafem $1$-regularnym.

\medskip

Ile jest turniejów rzêdu $4$? S¹ cztery takie turnieje:

\begin{center}\includegraphics[scale=0.16]{t4.png}\end{center}
\end{exampleblock}

\end{frame}



\begin{frame}

\begin{block}{Definicja}
Turniej $T$ jest {\bf przechodni}, je¿eli z tego, ¿e $(u,v)$ i $(v,w)$ s¹ ³ukami w $T$ wynika, ¿e $(u,w)$ równie¿ jest ³ukiem w $T$.
\end{block}

\bigskip

\begin{exampleblock}{Przyk³ad 10}
Które turnieje rzêdu $4$ (przyk³ad 9) s¹ przechodnie?

\medskip

Jedynym przechodnim turniejem rzêdu $4$ jest $T_{4,4}$.
\end{exampleblock}

\end{frame}


\begin{frame}
\begin{block}{Twierdzenie}
Turniej jest przechodni wtedy i tylko wtedy, gdy jest acykliczny.
\end{block}

\begin{block}{Dowód. (1/2)}
$(\Leftarrow)$

Niech $T$ bêdzie acyklicznym turniejem i niech $(u,v),\,(v,w)\in E(T)$. Z~acyklicznoœci wynika, ¿e $(w,u)\not\in E(T)$. Pamiêtajmy, ¿e $T$ jest turniejem, wiêc dla ka¿dej pary wierzcho³ków $v_1,v_2$ je¿eli $(v_1,v_2)\not\in E(T)$, to $(v_2,v_1)\in E(T)$. Zatem z $(w,u)\not\in E(T)$ otrzymujemy, ¿e $(u,w)\in E(T)$, wiêc $T$ jest przechodni. 

\end{block}
\end{frame}

\begin{frame}

\begin{block}{Dowód. (2/2)}
$(\Rightarrow)$

Niech $T$ bêdzie przechodnim turniejem. Za³ó¿my niewprost, ¿e w turnieju $T$ istnieje cykl $(v_1,v_2,\ldots,v_k,v_1)$, gdzie $k\geqslant3$. Przechodnioœæ $T$ pozwala nam skonstruowaæ ci¹g krawêdzi:
\begin{itemize}
\item Z $(v_1,v_2),(v_2,v_3)\in E(T)$ wynika, ¿e $(v_1,v_3)\in E(T)$. 
\item Z $(v_1,v_3),\,(v_3,v_4)\in E(T)$ wynika, ¿e $(v_1,v_4)\in E(T)$.
\item $\ldots$
\item Z $(v_1,v_{k-1}),(v_{k-1},v_k)\in E(T)$ wynika, ¿e $(v_1,v_k)\in E(T)$ --- daje to sprzecznoœæ z faktem, ¿e $(v_k,v_1)\in E(T)$.
\end{itemize}
Zatem $T$ jest acykliczny.\vfill\qed
\end{block}

\medskip

\begin{block}{Twierdzenie}
Dla ka¿dej liczby ca³kowitej $n\geqslant3$ istnieje dok³adnie jeden przechodni (acykliczny) turniej rzêdu $n$.
\end{block}

\end{frame}






\begin{frame}

\begin{block}{Definicja}
\begin{itemize}
	\item	Je¿eli w digrafie $D$ istnieje cykl niew³aœciwy $d$ przechodz¹cy przez ka¿d¹ krawêdŸ digrafu $D$ dok³adnie jeden raz, to $d$ nazywamy {\bf cyklem Eulera}, a~digraf $D$ --- {\bf digrafem eulerowskim}.
	\item Je¿eli digraf $D$ nie jest digrafem eulerowskim i istnieje œcie¿ka $d$ przechodz¹ca przez ka¿d¹ krawêdŸ digrafu $D$ dok³adnie jeden raz, to $d$ nazywamy {\bf œcie¿k¹ Eulera}, a digraf $D$ --- {\bf digrafem jednobie¿nym} ({\bf pó³eulerowskim}).
\end{itemize}
\end{block}

\begin{exampleblock}{Przyk³ad 11}
Rozwa¿my turnieje rzêdu $3$ (przyk³ad 7). $D_2$ jest eulerowski, natomiast $D_1$ nie jest ani eulerowski ani jednobie¿ny.%nastêpnym razem  lepszy przyk³ad, na eulerowski i jednobie¿ny
\end{exampleblock}

\end{frame}


\begin{frame}

\begin{block}{Stwierdzenie}
\begin{itemize}
	\item Digraf $D$ jest eulerowski wtedy i tylko wtedy, gdy jest spójny oraz dla ka¿dego wierzcho³ka $w\in V(D)$ zachodzi
$$\outdeg w=\indeg w.$$
	\item Digraf $D$ jest jednobie¿ny wtedy i tylko wtedy, gdy jest spójny i zawiera dwa wierzcho³ki $u$ i $v$ takie, ¿e
$$\outdeg u=\indeg u+1\ \ \ \ \ \mbox{ oraz }\ \ \ \ \ \indeg v =\outdeg v+1$$
oraz $$\outdeg w =\indeg w $$ dla wszystkich pozosta³ych ³uków $w\in V(D)$.  Co wiêcej, $u$ jest pocz¹tkiem, a~$v$ koñcem ka¿dej œcie¿ki Eulera w $D$. 
\end{itemize}
\end{block}

\end{frame}



\begin{frame}

\begin{exampleblock}{Przyk³ad 12}

\begin{center}\includegraphics[scale=0.2]{sppreul.png}\end{center}

$D_1$ - digraf eulerowski

$D_2$ - digraf jednobie¿ny

$D_3$ - digraf nie eulerowski i nie jednobie¿ny

\end{exampleblock}

\end{frame}



\begin{frame}

\begin{block}{Definicja}
\begin{itemize}
	\item	Je¿eli w digrafie $D$ istnieje cykl $h$ przechodz¹cy przez ka¿dy wierzcho³ek digrafu $D$ dok³adnie jeden raz, to $h$ nazywamy {\bf cyklem Hamiltona}, a $D$ --- {\bf digrafem hamiltonowskim}.
	\item Je¿eli digraf $D$ nie jest digrafem hamiltonowskim i istnieje œcie¿ka $h$ przechodz¹ca przez ka¿dy wierzcho³ek tego grafu dok³adnie jeden raz, to $h$ nazywamy {\bf œcie¿k¹ Hamiltona}, a $D$ --- {\bf digrafem trasowalnym} ({\bf pó³hamiltonowskim}).
\end{itemize}
\end{block}

\end{frame}


\begin{frame}

\begin{exampleblock}{Przyk³ad 13}

\begin{center}\includegraphics[scale=0.15]{hami.png}\end{center}

$D_1$ - digraf hamiltonowski

$D_2$ - digraf trasowalny

$D_3$ - digraf nie hamiltonowski i nie trasowalny

\end{exampleblock}

\bigskip

\begin{exampleblock}{Przyk³ad 14}
Które turnieje rzêdu $4$ (przyk³ad 9) s¹ hamiltonowskie, a które s¹ trasowalne?

\medskip

$T_{4,1}$ --- turniej hamiltonowski

$T_{4,2},\,T_{4,3},\,T_{4,4}$ --- turnieje trasowalne

\end{exampleblock}

\end{frame}



\begin{frame}

Zauwa¿my, ¿e turnieje mog¹ mieæ Ÿród³a i ujœcia, co sugeruje ¿e na ogó³ nie s¹ one digrafami hamiltonowskimi. Zachodzi jednak nastêpuj¹ce twierdzenie:

\begin{block}{Twierdzenie (R\'{e}dei, Camion)}
Ka¿dy turniej jest trasowalny lub hamiltonowski.
\end{block}

\begin{block}{Dowód. (1/2)}
Aby teza by³a prawdziwa, wystarczy aby turniej zawiera³ œcie¿kê Hamiltona. Niech $T$ bêdzie turniejem i niech $$P=(v_1,v_2,\ldots,v_k)$$ bêdzie najd³u¿sz¹ œcie¿k¹ w $T$. Je¿eli $P$ nie jest œcie¿k¹ Hamiltona, to $1\leqslant k<n$ oraz istnieje wierzcho³ek $v\in V(T)$ taki, ¿e $v\not\in P$.

Z faktu, ¿e $P$ jest najd³u¿sz¹ œcie¿k¹ otrzymujemy, ¿e $$(v,v_1),\,(v_k,v)\not\in E(T).$$ Zatem, na mocy faktu ¿e $T$ jest turniejem, mamy $$(v_1,v),\,(v,v_k)\in E(T).$$ 
\end{block}
\end{frame}


\begin{frame}

\begin{block}{Dowód. (2/2)}

W takim razie istnieje najwiêksza liczba ca³kowita $i$ ($1\leqslant i<k$) taka, ¿e $(v_i,v)\in E(T)$, co oznacza ¿e $(v,v_{i+1})\in E(T)$. 

\begin{center}\includegraphics[scale=0.22]{dowod.png}\end{center}

Zauwa¿my, ¿e teraz w turnieju $T$ istnieje œcie¿ka
$$(v_1,\,v_2,\,\ldots,\,v_{i-1},\,v_i,\,v,\,v_{i+1},\,\ldots,\,v_{k-1},\,v_k),$$
która ma wiêksz¹ d³ugoœæ ($k+1$) ni¿ œcie¿ka $P$ --- co daje nam sprzecznoœæ z~faktem, ¿e $P$ nie jest œcie¿k¹ Hamiltona.
\end{block}


\end{frame}


\begin{frame}


\begin{block}{Wniosek}
Ka¿dy turniej przechodni zawiera dok³adnie jedn¹ œcie¿kê Hamiltona.
\end{block}

\bigskip

Przyk³adowe warunki na digrafy hamiltonowskie:

\begin{block}{Twierdzenie}
Niech $D$ bêdzie digrafem i niech $|V(D)|=n$.
\begin{itemize}
\item Je¿eli dla ka¿dej pary wierzcho³ków $u,v\in V(G)$ takich, ¿e $(u,v)\not\in E(D)$ zachodzi
$$\outdeg u+\indeg v \geqslant n,$$
to $D$ jest hamiltonowski.
\item Je¿eli dla ka¿dego wierzcho³ka $v\in V(D)$ zachodzi $$\outdeg v\geqslant \frac{n}2\ \ \ \ \ \mbox{ oraz }\ \ \ \ \ \indeg v\geqslant\frac{n}2,$$
to $D$ jest hamiltonowski.
\end{itemize}
\end{block}

\end{frame}




















\end{document}