\documentclass[a4paper,10pt]{beamer}
\usepackage[T1,plmath]{polski}
\usepackage[cp1250]{inputenc}
\usepackage{amssymb}
\usepackage{indentfirst}
\usepackage{graphicx}

\usefonttheme[onlymath]{serif}


\usepackage{ulem} % kolorowe podkreœlenia
\usepackage{xcolor} % kolorowe podkreœlenia


\usepackage{diagbox}

%\definecolor{green1}{html}{22B14C}

\newcommand{\ouline}[1]{{\color{orange}\uline{{\color{black}#1}}}} % pomarañczowe podkreœlenie
\newcommand{\yuline}[1]{{\color{yellow}\uline{{\color{black}#1}}}} % ¿ó³te podkreœlenie
\newcommand{\buline}[1]{{\color{blue}\uline{{\color{black}#1}}}} % niebieskie podkreœlenie
\newcommand{\guline}[1]{{\color[RGB]{34,177,76}\uline{{\color{black}#1}}}} % zielone podkreœlenie


\usetheme{Boadilla}
\usecolortheme{crane}
%\usecolortheme[rgb={1,0.5,0}]{structure}

\title{\bf Elementy kombinatoryki}
%\subtitle{Matematyka, Kierunek: Architektura}
\author[B. Pawlik]{\bf dr in¿. Bart³omiej Pawlik}
%\institute{}



%\setbeamercovered{transparent} % przezroczyste warstwy





\begin{document}




\begin{frame}
\titlepage
\end{frame}



\begin{frame}
	
	\begin{block}{}
		
		\begin{center}{\it It is difficult to find a definition of combinatorics that is both concise and complete, unless we are satisfied with the statement “Combinatorics is what combinatorialists do.”}\end{center}
		\hfill W.T. Tutte, 1969	
		\vspace{0.5cm}
		\begin{center}{\it Combinatorics is the nanotechnology of mathematics.}\end{center}
		\hfill Sara Billey, 2005	
	\end{block}
\vfill
Wiêcej punktów widzenia:\\\href{https://www.math.ucla.edu/~pak/hidden/papers/Quotes/Combinatorics-quotes.htm}{\textcolor{blue}{\it What is Combinatorics? (A collection of quotes by Igor Pak)}}

	
\end{frame}



\begin{frame}
	
\begin{exampleblock}{Przyk³ad}
	W szafie mam 4 pary butów, 6 par spodni, 9 koszul i 5 casualowych marynarek. Na ile ró¿nych sposobów mogê siê ubraæ?
	
	\vspace{0.3cm}
	$4\cdot6\cdot9\cdot5=1080$
\end{exampleblock}

\begin{exampleblock}{Przyk³ad}
	Na ile sposobów mo¿na  wybraæ czterocyfrowy kod PIN?
	
	\vspace{0.3cm}
	$10\cdot10\cdot10\cdot10=10\,000$
\end{exampleblock}

\begin{block}{Prawo iloczynu}
Je¿eli $S_1,\,\,\ldots,\,S_n$ s¹ zbiorami skoñczonymi, to $\displaystyle|S_1\times S_2\times\ldots\times S_n|=\prod_{i=1}^n|S_i|$.
\end{block}

\begin{block}{Combinatorial explosion}
Szybki (czêsto wyk³adniczy) wzrost z³o¿onoœci problemu wraz z niewielkimi zmianami w~liczbie danych wejœciowych. 
\end{block}


\end{frame}

	
	
\begin{frame}{Permutacje}
	
\begin{exampleblock}{Przyk³ad}
	Na ile sposobów mo¿na u³o¿yæ w ci¹g elementy zbioru $\{1,2,3,4\}$? 
	
	$$\begin{array}{cccc}
		(1,2,3,4)&(2,1,3,4)&(3,1,2,4)&(4,1,2,3)\\
		(1,2,4,3)&(2,1,4,3)&(3,1,4,2)&(4,1,3,2)\\
		(1,3,2,4)&(2,3,1,4)&(3,2,1,4)&(4,2,1,3)\\
		(1,3,4,2)&(2,3,4,1)&(3,2,4,1)&(4,2,3,1)\\
		(1,4,2,3)&(2,4,1,3)&(3,4,1,2)&(4,3,1,2)\\
		(1,4,3,2)&(2,4,3,1)&(3,4,2,1)&(4,3,2,1)
	\end{array}$$
	Szukana liczba sposobów to
	$$4\cdot3\cdot2\cdot1=24$$
\end{exampleblock}
	
	\begin{block}{Definicja}
		{\bf Permutacj¹} zbioru $n$-elementowego nazywamy dowolny $n$-elementowy ci¹g ró¿nych elementów tego zbioru. 
	\end{block}

	
\end{frame}

\begin{frame}{Silnia}
 $n!$ --- (czyt. {\it $n$ silnia}) jest zdefiniowana dla nieujemnych liczb ca³kowitych w~nastêpuj¹cy sposób:
$$0!=1,\ \ \ \ \ \ \ \ \ \ \ \ \ n!=1\cdot2\cdot\ldots\cdot(n-1)\cdot n\ \mbox{ for }\ n\geqslant1.$$
Zauwa¿my, ¿e dla $n\geq1$ mamy $$n!=\prod\limits_{i=1}^ni\ \ \ \mbox{ oraz }\ \ \ n!=(n-1)!\cdot n.$$
Pocz¹tkowe wartoœci (do $12!$) to
$$1,\,1,\,2,\,6,\,24,\,120,\,720,\,5040,\,40\,320,\,362\,880,\,3\,628\,800,\,39\,916\,800,\,479\,001\,600.$$

	\begin{block}{Stwierdzenie}
		Liczba ró¿nych permutacji zbioru $n$-elementowego wynosi $n!$.
	\end{block}


\end{frame}


\begin{frame}

\begin{block}{}
Mówimy, ¿e s³owo $A$ jest {\it anagramem} s³owa $B$, je¿eli mo¿na otrzymaæ $A$ poprzez zamianê kolejnoœci liter w $B$.
\end{block}

\medskip

Przyk³adowo, anagramami s¹ s³owa $\mathtt{elevenplustwo}$ oraz $\mathtt{twelveplusone}.$

\medskip

\begin{exampleblock}{Przyk³ad}\label{ex2}
Ile ró¿nych anagramów ma s³owo $\mathtt{real}$?

\medskip

Zauwa¿my, ¿e liczba anagramów s³owa $\mathtt{real}$ to liczba uporz¹dkowañ elementów zbioru $\{\mathtt{r},\mathtt{e},\mathtt{a},\mathtt{l}\}$, wiêc odpowiedŸ to $4!=24$.

$$\begin{array}{cccccc}
\mathtt{real}&\mathtt{rela}&\mathtt{rael}&\mathtt{rale}&\mathtt{rlea}&\mathtt{rlae}\\
\mathtt{eral}&\mathtt{erla}&\mathtt{earl}&\mathtt{ealr}&\mathtt{elra}&\mathtt{elar}\\
\mathtt{arel}&\mathtt{arle}&\mathtt{aerl}&\mathtt{aelr}&\mathtt{alre}&\mathtt{aler}\\
\mathtt{lrea}&\mathtt{lrae}&\mathtt{lera}&\mathtt{lear}&\mathtt{lare}&\mathtt{laer}\\
\end{array}$$
\end{exampleblock}
\end{frame}
	








\begin{frame}{$k$-permutacje}
	
	\begin{exampleblock}{Przyk³ad}
		Losujemy trzy spoœród siedmiu numerowanych kul i wk³adamy po jednej z nich do trzech rozró¿nialnych koszyków. Na ile sposobów mo¿emy to zrobiæ?
		
		\vspace{0.3cm}
		Szukana liczba mo¿liwoœci to $7\cdot6\cdot5=210$.
	\end{exampleblock}


	\begin{exampleblock}{Przyk³ad}
	Na ile sposobów mo¿na wybraæ czterocyfrowy kod PIN, w którym ¿adna cyfra siê nie powtarza?
	
	\vspace{0.3cm}
	$10\cdot9\cdot8\cdot7=5040$.
	\end{exampleblock}


\end{frame}

\begin{frame}

		\begin{block}{Definicja}
		Niech $k\leq n$. {\bf $k$-permutacj¹} ({\bf permutacj¹ czêœciow¹}) zbioru $n$-elementowego nazywamy dowolny $k$-elementowy ci¹g ró¿nych elementów tego zbioru. 
	\end{block}
	
	\begin{block}{Stwierdzenie}
		\begin{itemize}
		\item Liczba ró¿nych $k$-permutacji zbioru $n$-elementowego wynosi $\displaystyle \frac{n!}{(n-k)!}$.
		\item Permutacja zbioru $n$-elementowego jest jego $n$-permutacj¹.
		\end{itemize}
	\end{block}

	\begin{alertblock}{Uwaga! (semantyczne wariactwo)}
		W starszej literaturze naukowej (oraz w polskich szko³ach) permutacje czêœciowe bywaj¹ nazywane wariacjami i oznaczane przez $V_n^k$, $P_n^k$, ${}_nP_k$, ${}^nP_k$, $P_{n,k}$ itp. (w~zale¿noœci od Ÿród³a).
	\end{alertblock}
	
\end{frame}



\begin{frame}{Kombinacje}
	
	\begin{exampleblock}{Przyk³ad}
		Losujemy trzy spoœród siedmiu numerowanych kul. Na ile sposobów mo¿emy to zrobiæ?
		
		\vspace{0.3cm}
		Z poprzedniego przyk³adu wiemy, ¿e liczba uporz¹dkowanych trójek kul wynosi 210. Teraz interesuje nas liczba \underline{nieuporz¹dkowanych} trójek.
		
		Zauwa¿my, ¿e \underline{ka¿dej} nieuporz¹dkowanej trójce $\{K_1,K_2,K_3\}$ odpowiada \underline{dok³adnie} szeœæ uporz¹dkowanych trójek:
		$$(K_1,K_2,K_3),\ \ (K_2,K_1,K_3),\ \ (K_3,K_1,K_2),$$ $$(K_1,K_3,K_2),\ \ (K_2,K_3,K_1),\ \ (K_3,K_2,K_1).$$
		Zatem szukana liczba to $\displaystyle \frac{210}6=35$.
	\end{exampleblock}
	
\begin{block}{Definicja}
{\bf Kombinacj¹ $n$ po $k$} nazywamy $k$-elementowy podzbiór zbioru $n$-elementowego. 
\end{block}

	
\end{frame}



\begin{frame}{Symbol dwumianowy Newtona}

\begin{block}{Definicja}
	{\bf Symbolem dwumianowym Newtona} nazywamy wyra¿enie $${n \choose k}=\frac{n!}{k!(n-k)!}$$ dla $0\leq k\leq n$.
\end{block}

\medskip

Czasami przyjmuje siê, ¿e je¿eli $k>n$, to $\displaystyle{n\choose k}=0$.

\medskip

\begin{block}{Stwierdzenie}
	Liczba ró¿nych $k$-elementowych podzbiorów zbioru $n$-elementowego wynosi $\displaystyle {n\choose k}$.
\end{block}

\end{frame}



\begin{frame}
\begin{exampleblock}{Przyk³ad}
Okreœl liczbê $12$-cyfrowych liczb z³o¿onych z czterech cyfr $1$, czterech cyfr $2$, trzech cyfr $5$ i jednej cyfry $8$.

$${12\choose4}\cdot{8\choose4}\cdot{4\choose3}\cdot{1\choose1}=495\cdot70\cdot4\cdot1=138\,600$$
\end{exampleblock}

\bigskip

\begin{exampleblock}{Przyk³ad}
Wyznacz liczbê anagramów s³owa $\mathtt{rearrange}$.

\medskip
W rozwa¿anym s³owie wystêpuj¹ trzy litery $\mathtt{r}$, dwie litery $\mathtt{e}$, dwie litery $\mathtt{a}$ i po jednej literze $\mathtt{n}$ i $\mathtt{g}$.
$${9\choose3}{6\choose2}{4\choose2}{2\choose1}{1\choose1}=\frac{9!}{3!\cdot2!\cdot2!\cdot1!\cdot1!}=15\,120.$$
\end{exampleblock}
\end{frame}


\begin{frame}
Wartoœci symbolu dwumianowego $\displaystyle{n\choose k}$ dla ma³ych wartoœci $n$ i $k$:

\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|}\hline
\backslashbox{$n$}{$k$}&$0$&$1$&$2$&$3$&$4$&$5$&$6$&$7$&$8$&$9$&$10$\\\hline
$0$&$1$&$0$&$0$&$0$&$0$&$0$&$0$&$0$&$0$&$0$&$0$\\\hline
$1$&$1$&$1$&$0$&$0$&$0$&$0$&$0$&$0$&$0$&$0$&$0$\\\hline
$2$&$1$&$2$&$1$&$0$&$0$&$0$&$0$&$0$&$0$&$0$&$0$\\\hline
$3$&$1$&$3$&$3$&$1$&$0$&$0$&$0$&$0$&$0$&$0$&$0$\\\hline
$4$&$1$&$4$&$6$&$4$&$1$&$0$&$0$&$0$&$0$&$0$&$0$\\\hline
$5$&$1$&$5$&$10$&$10$&$5$&$1$&$0$&$0$&$0$&$0$&$0$\\\hline
$6$&$1$&$6$&$15$&$20$&$15$&$6$&$1$&$0$&$0$&$0$&$0$\\\hline
$7$&$1$&$7$&$21$&$35$&$35$&$21$&$7$&$1$&$0$&$0$&$0$\\\hline
$8$&$1$&$8$&$28$&$56$&$70$&$56$&$28$&$8$&$1$&$0$&$0$\\\hline
$9$&$1$&$9$&$36$&$84$&$126$&$126$&$84$&$36$&$9$&$1$&$0$\\\hline
$10$&$1$&$10$&$45$&$120$&$210$&$252$&$210$&$120$&$45$&$10$&$1$\\\hline
\end{tabular}
\end{center}

\end{frame}


\begin{frame}
	
	\begin{block}{Podstawowe w³asnoœci symbolu dwumianowego}
		Niech $k,n$ bêd¹ nieujemnymi liczbami ca³kowitymi takimi, ¿e $k\leq n$. 
		\begin{enumerate}
			\item $\displaystyle{n\choose 0}={n\choose n}=1$
			\item $\displaystyle{n\choose 1}={n\choose n-1}=n$
			\item $\displaystyle{n\choose k}={n\choose n-k}$
		\end{enumerate}
	\end{block}
	
\bigskip
Powy¿sze równania mo¿na ³atwo udowodniæ wprost z definicji symbolu dwumianowego.
	
\end{frame}


\begin{frame}

\begin{block}{Wzór Pascala}
Równanie
$${n\choose k}={n-1\choose k}+{n-1\choose k-1}$$
zachodzi dla ka¿dej pary liczb naturalnych $n$ i $k$ takich, ¿e $1\leqslant k<n$.
\end{block}

\begin{block}{Dowód}
\begin{align*}
{n-1\choose k}+{n-1\choose k-1}=&\,\frac{(n-1)!}{k!(n-k-1)!}+\frac{(n-1)!}{(k-1)!(n-k)!}=\\
=&\,\frac{(n-1)!\textcolor{red}{\cdot(n-k)}}{k!(n-k-1)!\textcolor{red}{\cdot(n-k)}}+\frac{(n-1)!\textcolor{red}{\cdot k}}{(k-1)!\textcolor{red}{\cdot k}\cdot(n-k)!}=\\
=&\,\frac{(n-1)!\cdot (n-k+k)}{k!(n-k)!}=\frac{n!}{k!(n-k)!}={n\choose k}\\
\end{align*}\hfill$\qed$
\end{block}

\end{frame}



\begin{frame}
Trójk¹t Pascala (I):

$$\begin{array}{ccccccccccc}
&&&&&{0\choose0}&&&&&\\
&&&&{1\choose0}&&{1\choose1}&&&&\\
&&&{2\choose0}&&{2\choose1}&&{2\choose2}&&&\\
&&{3\choose0}&&{3\choose1}&&{3\choose2}&&{3\choose3}&&\\
&{4\choose0}&&{4\choose1}&&{4\choose2}&&{4\choose3}&&{4\choose4}&\\
{5\choose0}&&{5\choose1}&&{5\choose2}&&{5\choose3}&&{5\choose4}&&{5\choose5}\\
&&&&&\vdots&&&&&
\end{array}$$

\bigskip

Trójk¹t Pascala (II):

$$\begin{array}{ccccccccccc}
&&&&&1&&&&&\\
&&&&1&&1&&&&\\
&&&1&&2&&1&&&\\
&&1&&3&&3&&1&&\\
&1&&4&&6&&4&&1&\\
1&&5&&10&&10&&5&&1\\
&&&&&\vdots&&&&&
\end{array}
$$

\end{frame}




\begin{frame}

	\begin{exampleblock}{Przyk³ad}
		Wyznaczyæ liczbê wszystkich podzbiorów zbioru $\{a,b,c\}$.
		\vspace{0.3cm}
		\begin{center}{\it sposób pierwszy}\end{center}
		Zbiór jest tak ma³y, ¿e mo¿emy to przeliczyæ na palcach:
		
		\begin{center}
			\begin{tabular}{ccc}
			podzbiory 0-elementowe:&$\emptyset$&(1)\\
			podzbiory 1-elementowe:&$\{a\},\,\{b\},\,\{c\}$&(3)\\
			podzbiory 2-elementowe:&$\{b,c\},\,\{a,c\},\,\{a,b\}$&(3)\\
			podzbiory 3-elementowe:&$\{a,b,c\}$&(1)
			\end{tabular}
		\end{center}
		
		Ostatecznie zbiór $\{a,b,c\}$ ma 8 podzbiorów.
	\end{exampleblock}

\end{frame}



\begin{frame}
	
	\begin{exampleblock}{Przyk³ad}
		Wyznaczyæ liczbê wszystkich podzbiorów zbioru $\{a,b,c\}$.
		\vspace{0.3cm}
		\begin{center}{\it sposób drugi}\end{center}
		Okreœlmy, na ile sposobów mo¿na skonstruowaæ podzbiór danego zbioru.

		Element $a$ nale¿y do podzbioru lub nie, co daje dwie mo¿liwoœci. Identycznie jest z~elementami $b$ i $c$.
		
		Zatem z zasady mno¿enia wynika, ¿e podzbiór danego zbioru mo¿na otrzymaæ na $$2\cdot2\cdot2=2^3=8$$ sposobów.
	\end{exampleblock}
	
\end{frame}


\begin{frame}
	
	Zauwa¿my, ¿e z drugi sposób rozwi¹zania powy¿szego przyk³adu sugeruje bijekcjê miêdzy liczb¹ podzbiorów zbioru 3-elementowego i liczb¹ ci¹gów binarnych d³ugoœci 3. Istotnie:
	
	\begin{center}\begin{tabular}{c|c}
			podzbiór&$abc$\\\hline
			$\emptyset$&$000$\\
			$\{a\}$&$100$\\
			$\{b\}$&$010$\\
			$\{c\}$&$001$\\
			$\{a,b\}$&$110$\\
			$\{a,c\}$&$101$\\
			$\{b,c\}$&$011$\\
			$\{a,b,c\}$&$111$\\
	\end{tabular}\end{center}

\end{frame}


\begin{frame}

\begin{block}{Stwierdzenie}
	Liczba podzbiorów zbioru $n$-elementowego wynosi $2^n$.
\end{block}

\begin{block}{}	
	Zbiór wszystkich podzbiorów zbioru $A$ czêsto (ca³kiem s³usznie) nazywa siê {\bf zbiorem potêgowym} zbioru $A$ i oznacza przez $P(A)$ lub $2^A$.
	
	Stosuj¹c drugie z powy¿szych oznaczeñ, stwierdzenie o liczbie podzbiorów zbioru $n$-elementowego mo¿emy zapisaæ w postaci
	$$\left|2^A\right|=2^{|A|}.$$
\end{block}
\end{frame}

\begin{frame}
	\begin{block}{Wniosek}
		Dla ka¿dej liczby ca³kowitej nieujemnej $n$ zachodzi
		$${n\choose 0}+{n\choose1}+\ldots+{n\choose n}=2^n.$$
	\end{block}
	
	\begin{proof}
	Zauwa¿my, ¿e $\displaystyle{n\choose k}$ oznacza liczbê podzbiorów zbioru $n$-elementowego. Zatem $${n\choose 0}+{n\choose1}+\ldots+{n\choose n}$$ to liczba wszystkich podzbiorów zbioru $n$-elementowego. Z drugiej strony, wiemy ¿e liczba podzbiorów danego zbioru to $2^n$, wiêc dana równoœæ jest prawdziwa. 
	\end{proof}
	
\end{frame}


\begin{frame}
	
	\begin{block}{Twierdzenie (Wzór dwumianowy Newtona)}
		Dla dowolnych $x,y\in\mathbb{R}$ i dla dowolnego $n\in\mathbb{N}$ zachodzi
		$$(x+y)^n=\sum\limits_{k=0}^n{n\choose k}x^{n-k}y^k.$$	
	\end{block}

\end{frame}



\begin{frame}
	\begin{exampleblock}{Przyk³ad}
	Korzystaj¹c ze wzoru dwumianowego Newtona opracowaæ wzory skróconego mno¿enia dla wyra¿eñ $(x+y)^4$ oraz $(x-y)^4$.
	\begin{align*}
		(x+y)^4=&\,\sum\limits_{k=0}^4{4\choose k}x^{4-k}y^k=\\
		=&\,{4\choose 0}x^4y^0+{4\choose 1}x^3y^1+{4\choose 2}x^2y^2+{4\choose 3}x^1y^3+{4\choose 4}x^0y^4=\\
		=&\,x^4+4x^3y+6x^2y^2+4xy^3+y^4
	\end{align*}
Analogicznie
	\begin{align*}
	(x-y)^4=&\,\sum\limits_{k=0}^4{4\choose k}x^{4-k}(-y)^k=\\
	=&\,x^4+4x^3(-y)+6x^2(-y)^2+4x(-y)^3+(-y)^4=\\
	=&\,x^4-4x^3y+6x^2y^2-4xy^3+y^4
\end{align*}
		
	\end{exampleblock}
	
\end{frame}



\begin{frame}
	
	\begin{exampleblock}{Przyk³ad}		
		Korzystaj¹c ze wzoru dwumianowego Newtona udowodniæ wzór $\displaystyle {n\choose 0}+{n\choose1}+\ldots+{n\choose n}=2^n$.
		$$2^n=(1+1)^n=\sum\limits_{k=0}^n{n\choose k}1^{n-k}1^k=\sum\limits_{k=0}^n{n\choose k}={n\choose 0}+{n\choose1}+\ldots+{n\choose n}.$$
	\end{exampleblock}
	
\end{frame}



	
	
	
\begin{frame}{Liczba elementów sumy zbiorów}
	\begin{exampleblock}{Przyk³ad}		
		Adaœ uczy siê dwóch jêzyków europejskich, Beatka uczy siê jednego jêzyka afrykañskiego, a~Celinka uczy siê trzech jêzyków azjatyckich. Ilu ró¿nych jêzyków ucz¹ siê dzieci?
		$$2+1+3=6.$$
	\end{exampleblock}

	\begin{block}{Prawo sumy dla zbiorów roz³¹cznych}
		Niech $S_1,\ldots,S_n$ bêd¹ zbiorami skoñczonymi, które s¹ parami roz³¹czne. Wtedy
		$$\left|\bigcup\limits_{i=1}^nS_i\right|=\sum\limits_{i=1}^n\left|S_i\right|.$$
	\end{block}
	
\end{frame}




\begin{frame}
	
	\begin{exampleblock}{Przyk³ad}		
		W klasie ka¿de dziecko uczy siê co najmniej jednego jêzyka. 15 dzieci uczy siê jêzyka angielskiego, 11 dzieci uczy siê jêzyka francuskiego i 5 dzieci uczy siê obu tych jêzyków. Z ilu uczniów sk³ada siê klasa?
		
		\vspace{0.3cm}
		Dodaj¹c do siebie liczbê dzieci ucz¹cych siê angielskiego (15) i ucz¹cych siê francuskiego (11), \underline{dwukrotnie} policzyliœmy te, które ucz¹ siê obu jêzyków (5). Zatem liczba uczniów wynosi
		$$15+11-5=21.$$
	\end{exampleblock}
	
\end{frame}

\begin{frame}	

	\begin{block}{Uogólnione prawo sumy dla dwóch zbiorów}
		Dla dowolnych zbiorów skoñczonych $S_1$ i $S_2$ mamy
		$$|S_1\cup S_2|=|S_1|+|S_2|-|S_1\cap S_2|.$$
	\end{block}

	\begin{exampleblock}{Przyk³ad}
		Uogólniæ powy¿szy wzór na trzy zbiory $S_1,S_2,S_3$.
		
		\begin{align*}
			|S_1\cup S_2\cup S_3|=&\,|(S_1\cup S_2)\cup S_3|=|S_1\cup S_2|+|S_3|-\textcolor{red}{|(S_1\cup S_2)\cap S_3|}=\\	
			=&\,|S_1|+|S_2|-|S_1\cap S_2|+|S_3|-\textcolor{red}{|(S_1\cap S_3)\cup(S_2\cap S_3)|}=\\	
			=&\,|S_1|+|S_2|-|S_1\cap S_2|+|S_3|+\\
			&\,-\Big(|S_1\cap S_2|+|S_2\cap S_3|-\textcolor{blue}{|S_1\cap S_3\cap S_2\cap S_3|}\Big)=\\
			=&\,|S_1|+|S_2|+|S_3|-|S_1\cap S_2|-|S_1\cap S_3|-|S_2\cap S_3|+\\
			&\,+\textcolor{blue}{|S_1\cap S_2\cap S_3|}.
		\end{align*}
		Zatem
			$$|S_1\cup S_2\cup S_3|=|S_1|+|S_2|+|S_3|-|S_1\cap S_2|-|S_1\cap S_3|-|S_2\cap S_3|+|S_1\cap S_2\cap S_3|$$
	\end{exampleblock}
	
\end{frame}



\begin{frame}
	
	\begin{block}{Zasada w³¹czeñ i wy³¹czeñ}
		Niech $n\geq2$ i niech $S_1,S_2,\ldots,S_n$ bêd¹ zbiorami skoñczonymi. Liczba elementów sumy zbiorów $S_1,\ldots,S_n$ jest równa liczbie elementów wszystkich mo¿liwych ró¿nych przeciêæ nieparzystej liczby zbiorów spoœród $S_1,\ldots,S_n$ pomniejszonej o~liczbê elementów wszystkich mo¿liwych ró¿nych przeciêæ parzystej liczby zbiorów spoœród $S_1,\ldots,S_n$:
		\begin{align*}\left|\bigcup\limits_{i=1}^nS_i\right|=&\sum\limits_{i=1}^n|S_i|-\sum_{i,j:i<j}|S_i\cap S_j|+\sum_{i,j,k:i<j<k}|S_i\cap S_j\cap S_k|-\ldots+\\
		&+(-1)^{n-1}|S_1\cap S_2\cap\ldots\cap S_n|
		\end{align*}
	\end{block}

\end{frame}

\begin{frame}
	\begin{block}{Dowód (1/2).}
		Niech $1\leqslant m\leqslant n$ i niech $\displaystyle s\in\bigcup\limits_{i=1}^nS_i$. Za³ó¿my, ¿e element $s$ nale¿y do dok³adnie $m$ zbiorów spoœród $S_1,S_2,\ldots,S_n$. 
		
		Okreœlmy, ile razy element $s$ jest zliczony przez wyra¿enie
		$$\sum\limits_{i=1}^n|S_i|-\sum_{i,j:i<j}|S_i\cap S_j|+\sum_{i,j,k:i<j<k}|S_i\cap S_j\cap S_k|-\ldots+(-1)^{n-1}|S_1\cap S_2\cap\ldots\cap S_n|.$$
		Zauwa¿my, ¿e w sumie $\displaystyle\sum\limits_{i=1}^n|S_i|$ element $s$ jest policzony $m={m\choose1}$ razy.
		
		W sumie $\displaystyle \sum_{i,j:i<j}|S_i\cap S_j|$ element $s$ jest policzony ${m\choose2}$ razy itd.
		
		Ostatecznie element $s$ zosta³ zliczony
		$${m\choose1}-{m\choose2}+{m\choose3}-\ldots+(-1)^{m-1}{m\choose m}+\underbrace{0+0+\ldots+0}_{n-m\mbox{\footnotesize{ razy}}}$$ razy.
	\end{block}
\end{frame}

\begin{frame}
	\begin{block}{Dowód (2/2).}
Dodajemy z lewej strony \textcolor{red}{sztuczne zero}, a nastêpnie korzystamy ze \textcolor{blue}{wzoru dwumianowego Newtona}: 
		\begin{align*}&\textcolor{red}{1-{m\choose0}}+{m\choose1}-{m\choose2}+{m\choose3}-\ldots+(-1)^{m-1}{m\choose m}=\\
		&=1-\Bigg({m\choose0}-{m\choose1}+{m\choose2}-{m\choose3}+\ldots+(-1)^m{m\choose m}\Bigg)=\\
		&=1-\textcolor{blue}{\sum\limits_{k=0}^m{m\choose k}1^{m-k}(-1)^k}=1-\textcolor{blue}{(1-1)^m}=1.
		\end{align*}
Zatem powy¿sze wyra¿enie zliczy³o element $s$ dok³adnie raz, co dowodzi poprawnoœci zasady w³¹czeñ i wy³¹czeñ.\hfill$\qed$
	\end{block}
\end{frame}

\begin{frame}

\begin{block}{Specjalne przypadki zasady w³¹czeñ i wy³¹czeñ}
Niech $S_1,S_2,S_3,S_4$ bêd¹ zbiorami skoñczonymi.
\begin{align*}
|S_1\cup S_2|=&\,|S_1|+|S_2|+\\
&\,-|S_1\cap S_2|\\
\\
|S_1\cup S_2\cup S_3|=&\,|S_1|+|S_2|+|S_3|+\\
&\,-|S_1\cap S_2|-|S_1\cap S_3|-|S_2\cap S_3|+\\
&\,+|S_1\cap S_2\cap S_3|\\
\\
|S_1\cup S_2\cup S_3\cup S_4|=&\,|S_1|+|S_2|+|S_3|+|S_4|+\\
&\,-|S_1\cap S_2|-|S_1\cap S_3|-|S_1\cap S_4|+\\
&\,\ \ \ -|S_2\cap S_3|-|S_2\cap S_4|-|S_3\cap S_4|+\\
&\,+|S_1\cap S_2\cap S_3|+|S_1\cap S_2\cap S_4|+\\
&\,\ \ \ +|S_1\cap S_3\cap S_4|+|S_2\cap S_3\cap S_4|+\\
&\,-|S_1\cap S_2\cap S_3\cap S_4|
\end{align*}
\end{block}

\end{frame}


\begin{frame}

\begin{exampleblock}{Przyk³ad}
Ile jest liczb dodatnich mniejszych od $1000$, które s¹ podzielne przez $2$ lub $9$ lub~$11$?

\bigskip
Zauwa¿my, ¿e

\medskip

$A_2$ --- zbiór rozpatrywanych liczb podzielnych przez $2$; $|A_2|=499$

$A_9$ --- zbiór rozpatrywanych liczb podzielnych przez $9$; $|A_9|=111$

$A_{11}$ --- zbiór rozpatrywanych liczb podzielnych przez $11$; $|A_{11}|=90$

\medskip

$A_{18}=A_2\cap A_9$; $|A_{18}|=55$

$A_{22}=A_2\cap A_{11}$; $|A_{22}|=45$

$A_{99}=A_9\cap A_{11}$; $|A_{99}|=10$

\medskip

$A_{198}=A_2\cap A_9\cap A_{11}$; $|A_{198}|=5$

\medskip

Ostatecznie, stosuj¹c zasadê w³¹czeñ i wy³¹czeñ, otrzymujemy
\begin{align*}
|A_2\cup A_9\cup A_{11}|=&\,|A_2|+|A_9|+|A_{11}|-|A_{18}|-|A_{22}|-|A_{99}|+|A_{198}|=\\
=&\,499+111+90-55-45-10+5=595.
\end{align*}
\end{exampleblock}

\end{frame}



\begin{frame}

\begin{exampleblock}{Przyk³ad (1/5)}
Wyzaczyæ liczbê permutacji zbioru $[7]=\{1,2,3,4,5,6,7\}$, które nie zawieraj¹ czterech kolejnych elementów w porz¹dku rosn¹cym.

\bigskip

Niech $X$ bêdzie zbiorem permutacji o szukanej w³asnoœci. Zauwa¿my, ¿e liczba wszystkich permutacji zbioru $[7]$ to $7!=5040$.

W zbiorze $[7]$ wyszczególnimy pozdbiór $A$ z³o¿ony z tych permutacji, które zawieraj¹ cztery kolejne elementy w porz¹dku rosn¹cym. Oczywiœcie $$|X|=7!-|A|.$$

W zbiorze $A$ okreœlamy cztery podzbiory:
\begin{itemize}
\item $A_1$ --- zbiór permutacji zawieraj¹cych elementy w porz¹dku rosn¹cym na pozycjach 1, 2, 3 i 4. ($\bullet\bullet\bullet\bullet\circ\circ\circ$)
\item $A_2$ --- zbiór permutacji zawieraj¹cych elementy w porz¹dku rosn¹cym na pozycjach 2, 3, 4 i 5. ($\circ\bullet\bullet\bullet\bullet\circ\circ$)
\item $A_3$ --- zbiór permutacji zawieraj¹cych elementy w porz¹dku rosn¹cym na pozycjach 3, 4, 5 i 6. ($\circ\circ\bullet\bullet\bullet\bullet\circ$)
\item $A_4$ --- zbiór permutacji zawieraj¹cych elementy w porz¹dku rosn¹cym na pozycjach 4, 5, 6 i 7. ($\circ\circ\circ\bullet\bullet\bullet\bullet$)
\end{itemize}
\end{exampleblock}

\end{frame}



\begin{frame}

\begin{exampleblock}{Przyk³ad (2/5)}
Zauwa¿my, ¿e $$A=A_1\cup A_2\cup A_3\cup A_4,$$ ale wyró¿nione podzbiory nie s¹ roz³¹czne. Aby policzyæ $|A|$, zastosujemy zasadê w³¹czeñ i wy³¹czeñ.

\smallskip

Obliczmy $|A_1|$. ($\bullet\bullet\bullet\bullet\circ\circ\circ$)

Elementy na pierwszych czterech pozycjach ($\bullet$) mo¿emy wybraæ na ${7\choose4}$ sposobów i uk³adamy je jednoznacznie (rosn¹co). Zosta³y nam 3 elementy ($\circ$), które mo¿emy ustawiæ dowolnie, co daje $3!$ mo¿liwoœci. Zatem liczba permutacji nale¿¹cych do zbioru $A_1$ to $$|A_1|={7\choose4}\cdot3!.$$
Oczywiœcie $$|A_1|=|A_2|=|A_3|=|A_4|.$$
\end{exampleblock}

\end{frame}




\begin{frame}

\begin{exampleblock}{Przyk³ad (3/5)}
Obliczmy $|A_1\cap A_2|$.

Elementy zbioru $A_1\cap A_2$ musz¹ byæ ustawione w porz¹dku rosn¹cym na pozycjach 1, 2, 3 i 4 oraz na pozycjach 2, 3, 4 i 5, wiêc musz¹ byæ ustawione rosn¹co na pozycjach 1, 2, 3, 4 i 5 ($\bullet\bullet\bullet\bullet\bullet\circ\circ$). Zatem (analogicznie jak w~przypadku $|A_1|$) otrzymujemy
$$|A_1\cap A_2|={7\choose5}\cdot2!=|A_2\cap A_3|=|A_3\cap A_4|.$$

Zauwa¿my, ¿e dla $|A_1\cap A_3|$ musimy mieæ elementy w porz¹dku rosn¹cym na pozycjach 1, 2, 3, 4, 5 i 6 ($\bullet\bullet\bullet\bullet\bullet\bullet\circ$). Mamy
$$|A_1\cap A_3|={7\choose6}\cdot1!=|A_2\cap A_4|.$$
Ostatnim przypadkiem dla przeciêæ dwóch podzbiorów jest $|A_1\cap A_4|$ ($\bullet\bullet\bullet\bullet\bullet\bullet\bullet$). Mamy tylko jedno ustawienie w porz¹dku rosn¹cym na siedmiu pozycjach:
$$|A_1\cap A_4|=1={7\choose7}\cdot0!.$$
\end{exampleblock}

\end{frame}





\begin{frame}

\begin{exampleblock}{Przyk³ad (4/5)}
Obliczmy $|A_1\cap A_2\cap A_3|$.

Zauwa¿my, ¿e w tym przypadku elementy na pocz¹tkowych 6-ciu pozycjach musz¹ byæ ustawione w porz¹dku rosn¹cym ($\bullet\bullet\bullet\bullet\bullet\bullet\circ$), wiêc
$$|A_1\cap A_2\cap A_3|={7\choose6}\cdot1!=|A_2\cap A_3\cap A_4|.$$

Natomiast w przypadku, w którym pomijamy jeden z ``wewnêtrznych'' podzbiorów, np. $A_3$, musimy mieæ wszystkie elementy w porz¹dku rosn¹cym ($\bullet\bullet\bullet\bullet\bullet\bullet\bullet$). Zatem
$$|A_1\cap A_2\cap A_4|=1=|A_1\cap A_3\cap A_4|.$$

W przypadku przeciêcia wszystkich zbiorów ($\bullet\bullet\bullet\bullet\bullet\bullet\bullet$) ponownie mamy tylko jeden przypadek, wiêc $$|A_1\cap A_2\cap A_3\cap A_4|=1.$$
\end{exampleblock}

\end{frame}



\begin{frame}

\begin{exampleblock}{Przyk³ad (5/5)}
Zatem
\begin{align*}
|A|=&\,\underbrace{4\cdot{7\choose4}\cdot3!}_{|A_i|}-\underbrace{\left(3\cdot{7\choose5}\cdot2!+2\cdot{7\choose6}\cdot1!+1\right)}_{|A_i\cap A_j|}+\\
&\,+\underbrace{\left(2\cdot{7\choose6}\cdot1!+2\cdot1\right)}_{|A_i\cap A_j\cap A_k|}-\underbrace{1}_{|A_1\cap A_2\cap A_3\cap A_4|}=\\
=&\,840-141+16-1=714.
\end{align*}
Zatem liczba permutacji zbioru $[7]$, które nie zawieraj¹ czterech kolejnych elementów w porz¹dku rosn¹cym to $$5040-714=4326.$$
\end{exampleblock}

\end{frame}

















\end{document}